///////////////////////////////////////////////////////////
/// @file	Error.h
/// @brief	エラー
/// @author	shuji-morimoto
/// Copyright (C) 2013- Mamezou. All rights reserved.
///////////////////////////////////////////////////////////

#ifndef __PICO_IPC_ERROR__
#define __PICO_IPC_ERROR__

#include <string>

namespace PicoIPC {

///////////////////////////////////////////////////////////
/// @class Error
/// @brief	エラーを確認する
/// @note		使い方は以下<br/>
///				Error err = xxxx.method();
///				if (err) {
///					// an error occureed
///					std::string message = err.Message();
///				}
///////////////////////////////////////////////////////////
class Error
{
public:
	///////////////////////////////////////////////////////////
	/// @brief		エラーオブジェクト(エラーなし)を生成する
	/// @param[in]	なし
	///////////////////////////////////////////////////////////
	static Error createNoError();

	///////////////////////////////////////////////////////////
	/// @brief		エラーオブジェクト(エラー発生)を生成する
	/// @param[in]	message エラーメッセージ
	///////////////////////////////////////////////////////////
	static Error createError(const char *format, ...);


	///////////////////////////////////////////////////////////
	/// @brief		コンストラクタ
	/// @param[in]	なし
	/// @note		エラーなし
	///////////////////////////////////////////////////////////
	Error();

	///////////////////////////////////////////////////////////
	/// @brief		コンストラクタ
	/// @param[in]	message エラーメッセージ
	/// @note		エラー発生
	///////////////////////////////////////////////////////////
	Error(const std::string &message);

	///////////////////////////////////////////////////////////
	/// @brief		デストラクタ
	/// @return		なし
	///////////////////////////////////////////////////////////
	virtual ~Error();

	///////////////////////////////////////////////////////////
	/// @brief		エラーかどうか確認する
	/// @param[in]	なし
	/// @note		エラーのときtrue<br/>
	///////////////////////////////////////////////////////////
	operator bool() const;

	///////////////////////////////////////////////////////////
	/// @brief		メッセージを取得する
	/// @param[in]	なし
	/// @return		メッセージ
	///////////////////////////////////////////////////////////
	const std::string &Message() const;

private:
	std::string mMessage; ///< メッセージ
	bool		mIsError; ///< エラーのときtrue
};
}
#endif
